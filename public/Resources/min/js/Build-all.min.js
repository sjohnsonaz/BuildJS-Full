var build=build||{},Build=build.Build=function(){function a(e){switch(typeof e){case "function":a.onload.apply(a.onload,arguments);break;case "string":a.define.apply(a.define,arguments)}}function A(e,a){for(var b=e.split("."),c=r.root,d=c,h="",k=0,f=b.length;k<f;k++)h=b[k],c[h]=c[h]||{},d=c,c=c[h];B[b[0]]=r.root[b[0]];return d[h]=a}function b(e,a){for(var b in a)a.hasOwnProperty(b)&&(e[b]=e[b]||a[b]);return e}function d(e,a){for(var b in a)a.hasOwnProperty(b)&&(e[b]=a[b]);return e}function f(e,a,
g){a?(g=g||{},Object.keys(e.prototype).length&&d(g,e.prototype),e.prototype=Object.create(a.prototype),d(e.prototype,g),e.prototype.constructor=e,b(e,a),e.$parent=a):b(e.prototype,g)}function s(a,l,g,c,d,h){$construtor=h?singletone(l):l;b(l,c);f(l,d,g);l.$name=a;p[a]=l;A(a,l);return l}function u(){for(var a=Object.keys(q);a.length;){var b=a.pop();C(b)}q={};t&&(m.queue.call(),m.queue.clear())}function C(a){var b=q[a];delete q[a];if(b){var g;b(function(b){p[b.$extends]||C(b.$extends);g=s(a,b.$constructor,
b.$prototype,b.$static,p[b.$extends],b.$singleton)},function(a){return function(){g.$parent.apply(a,Array.prototype.slice.call(arguments))}})}}function D(a){return a.replace(/\./g,"-")}function E(a,b){return a.endsWith(".js")?b+name:b+a.replace(/\./g,"/")+".js"}function v(){this.done=!1;this.queue=[]}function n(a,b){function g(){Object.keys(w).length||u();n.queue.call();n.queue.clear()}n.queue.add(b);if(a instanceof Array){x+=a.length;for(var c=0,d=a.length;c<d;c++)F(a[c],function(){x--;x||g()})}else F(a,
g)}function F(a,b){var d,c=a.split("::");1<c.length?(d=y[c[0]]||y.main,a=c[1]):d=y.main;p[a]?b():(d=E(a,d),c=D(a),w[a]=!0,G(c,d,function(){delete w[a];b()}))}function G(a,b,d){switch(r.name){case "browser":var c=document.createElement("script");c.id=a;c.src=b;c.addEventListener("load",d,!1);document.getElementsByTagName("head")[0].appendChild(c);break;case "node":require(b),d()}}function m(a){if("undefined"!=typeof jQuery)jQuery(a);else if(m.queue)m.queue.add(a);else switch(m.queue=new v,m.queue.add(a),
r.name){case "browser":window.addEventListener("load",function(){t=!0;var a=Object.keys(z);a.length?n(a,function(){u()}):u()},!1);break;case "node":u()}}var t=!1,w={},q={},y={main:"/"},z={},B={},r=function(){return"undefined"!==typeof window?{name:"browser",root:window}:"undefined"!==typeof process?(t=!0,module.exports=a,GLOBAL.Build=a,{name:"node",root:GLOBAL}):{name:null,root:null}}(),p={};v.prototype={add:function(a){this.done?a():this.queue.push(a)},call:function(){if(!this.done){for(;this.queue.length;)this.queue.pop()();
this.done=!0}},clear:function(){this.done=!1;this.queue=[]}};var x=0;n.queue=new v;m.queue=null;a.root=B;a.environment=r;a.namespace=A;a.copyReplace=d;a.copyNoReplace=b;a.inherit=f;a.singleton=function(a){var b=void 0;return function(){if(!b){var d=arguments,c=function(){return a.apply(this,d)};c.prototype=a.prototype;b=new c}return b}};a.definitions=p;a.assemble=s;a.paths=y;a.define=function(a,b,d){t||delete z[a];for(var c=[],f=0,h=b.length;f<h;f++){var k=b[f];p[k]||(q[k]||w[k]||z[k])||c.push(k)}q[a]=
d;if(c.length)if(t)n(c,function(){});else for(f=0,h=c.length;f<h;f++)z[c[f]]=!0};a.nameToCss=D;a.nameToFileName=E;a.load=n;a.loadScript=G;a.CallbackQueue=v;a.onload=m;return a}();(function(){"function"!==typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)})})();Build("build.HashRouter",[],function(a,$super){a({$constructor:function(){this.routes={}},$prototype:{handler:function(a){for(var d in routes)if(routes.hasOwnProperty(d)){var f=routes[d],s=a.newURL.match(f.regex);s&&f.enter.apply(f.enter,s.slice(1))}},listen:function(){window.addEventHandler("hashchange",this.handler)},stop:function(){window.removeEventHandler("hashchange",this.handler)},add:function(a,d,f){this.routes[a]={route:a,enter:d,exit:f,regex:RegExp(a.replace(/\//g,"\\/").replace(/:(\w*)/g,
"(\\w*)"))}},remove:function(a){delete this.routes[a]}}})});Build("build.ui.Application",["build.ui.Panel"],function(a,$super){a({$extends:"build.ui.Panel",$constructor:function(a){$super(this)(a)}})});Build("build.ui.form.Button",["build.ui.form.FormElement"],function(a,$super){a({$extends:"build.ui.form.FormElement",$constructor:function(a){$super(this)(a||"button")},$prototype:{build:function(){this.element.innerHTML="Button"}}})});Build("build.ui.form.Form",["build.ui.Panel"],function(a,$super){a({$extends:"build.ui.Panel",$constructor:function(a){$super(this)(a||"form")}})});Build("build.ui.form.FormElement",["build.ui.Widget"],function(a,$super){a({$extends:"build.ui.Widget",$constructor:function(a){$super(this)(a)},$prototype:{}})});Build("build.ui.form.Submit",["build.ui.form.Button"],function(a,$super){a({$extends:"build.ui.form.Button",$constructor:function(a){$super(this)(a||"submit")}})});Build("build.ui.Module",[],function(a,$super){a({$constructor:function(){}})});Build("build.ui.Panel",["build.ui.Widget"],function(a,$super){a({$extends:"build.ui.Widget",$constructor:function(a){$super(this)(a);this.children=[]},$prototype:{addChild:function(a){this.children.push(a);this.appendChild(a)},removeChild:function(a){this.children.splice(array.indexOf(a),1);this.removeChild(a)}}})});Build("build.ui.SwitcherPanel",["build.ui.Panel"],function(a,$super){a({$extends:"build.ui.Panel",$constructor:function(a){$super(this)(a);this.active=0},$prototype:{setActive:function(a){this.active=a},getActive:function(){return this.active}}})});Build("build.ui.tab.TabContainer",["build.ui.SwitcherPanel"],function(a,$super){a({$extends:"build.ui.SwitcherPanel",$constructor:function(a){$super(this)(a)},$prototype:{}})});Build("build.ui.tab.TabPanel",["build.ui.Panel"],function(a,$super){a({$extends:"build.ui.Panel",$constructor:function(a){$super(this)(a);this.title=null},$prototype:{}})});Build("build.ui.Widget",["build.ui.Module"],function(a,$super){var b={};a({$extends:"build.ui.Module",$constructor:function(a){$super(this)();this.type=a||"div";this.createElement()},$prototype:{createElement:function(){this.element=document.createElement(this.type);this.element.id=this.uniqueId();this.element.classList.add(this.uniqueClass());this.element.controller=this;this.build()},build:function(){},uniqueId:function(){var a=this.constructor.$name;b[a]=b[a]?b[a]+1:0;return Build.nameToCss(a+
"-"+b[a])},uniqueClass:function(){return Build.nameToCss(this.constructor.$name)},appendChild:function(a){this.element.appendChild(a.element)},removeChild:function(a){this.element.removeChild(a.element)}}})});

var build=build||{},Build=build.Build=function(){function a(e){switch(typeof e){case "function":a.onload.apply(a.onload,arguments);break;case "string":a.define.apply(a.define,arguments)}}function A(e,n){for(var a=e.split("."),d=s.root,b=d,c="",z=0,g=a.length;z<g;z++)c=a[z],d[c]=d[c]||{},b=d,d=d[c];return b[c]=n}function b(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=e[a]||n[a]);return e}function c(e,a){for(var b in a)a.hasOwnProperty(b)&&(e[b]=a[b]);return e}function g(e,a,p){a?(p=p||{},Object.keys(e.prototype).length&&
c(p,e.prototype),e.prototype=Object.create(a.prototype),c(e.prototype,p),e.prototype.constructor=e,b(e,a),e.$parent=a):b(e.prototype,p)}function q(e,a,c,d,h,f){$construtor=f?singletone(a):a;b(a,d);g(a,h,c);a.$name=e;l[e]=a;A(e,a);return a}function t(){for(var a=Object.keys(m);a.length;){var b=a.pop();B(b)}m={};r&&(f.queue.call(),f.queue.clear())}function B(a){var b=m[a];delete m[a];if(b){var c;b(function(b){l[b.$extends]||B(b.$extends);c=q(a,b.$constructor,b.$prototype,b.$static,l[b.$extends],b.$singleton)},
function(a){return function(){c.$parent.apply(a,Array.prototype.slice.call(arguments))}})}}function C(a){return a.replace(/\./g,"-")}function D(a,b){return a.endsWith(".js")?b+name:b+a.replace(/\./g,"/")+".js"}function u(){this.done=!1;this.queue=[]}function k(a,b){function c(){Object.keys(v).length||t();k.queue.call();k.queue.clear()}k.queue.add(b);if(a instanceof Array){w+=a.length;for(var d=0,h=a.length;d<h;d++)E(a[d],function(){w--;w||c()})}else E(a,c)}function E(a,b){var c,d=a.split("::");1<
d.length?(c=x[d[0]]||x.main,a=d[1]):c=x.main;l[a]?b():(c=D(a,c),d=C(a),v[a]=!0,F(d,c,function(){delete v[a];b()}))}function F(a,b,c){switch(s.name){case "browser":var d=document.createElement("script");d.id=a;d.src=b;d.addEventListener("load",c,!1);document.getElementsByTagName("head")[0].appendChild(d);break;case "node":require(b),c()}}function f(a){if("undefined"!=typeof jQuery)jQuery(a);else if(f.queue)f.queue.add(a);else switch(f.queue=new u,f.queue.add(a),s.name){case "browser":window.addEventListener("load",
function(){r=!0;var a=Object.keys(y);a.length?k(a,function(){t()}):t()},!1);break;case "node":t()}}var r=!1,v={},m={},x={main:"/"},y={},s=function(){return"undefined"!==typeof window?{name:"browser",root:window}:"undefined"!==typeof process?(r=!0,module.exports=a,GLOBAL.Build=a,{name:"node",root:GLOBAL}):{name:null,root:null}}(),l={};u.prototype={add:function(a){this.done?a():this.queue.push(a)},call:function(){if(!this.done){for(;this.queue.length;)this.queue.pop()();this.done=!0}},clear:function(){this.done=
!1;this.queue=[]}};var w=0;k.queue=new u;f.queue=null;a.environment=s;a.namespace=A;a.copyReplace=c;a.copyNoReplace=b;a.inherit=g;a.singleton=function(a){var b=void 0;return function(){if(!b){var c=arguments,d=function(){return a.apply(this,c)};d.prototype=a.prototype;b=new d}return b}};a.definitions=l;a.assemble=q;a.paths=x;a.define=function(a,b,c){r||delete y[a];for(var d=[],h=0,g=b.length;h<g;h++){var f=b[h];l[f]||(m[f]||v[f]||y[f])||d.push(f)}m[a]=c;if(d.length)if(r)k(d,function(){});else for(h=
0,g=d.length;h<g;h++)y[d[h]]=!0};a.nameToCss=C;a.nameToFileName=D;a.load=k;a.loadScript=F;a.CallbackQueue=u;a.onload=f;return a}();(function(){"function"!==typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)})})();Build("build.HashRouter",[],function(a,$super){a({$constructor:function(){this.routes={}},$prototype:{handler:function(a){for(var c in routes)if(routes.hasOwnProperty(c)){var g=routes[c],q=a.newURL.match(g.regex);q&&g.enter.apply(g.enter,q.slice(1))}},listen:function(){window.addEventHandler("hashchange",this.handler)},stop:function(){window.removeEventHandler("hashchange",this.handler)},add:function(a,c,g){this.routes[a]={route:a,enter:c,exit:g,regex:RegExp(a.replace(/\//g,"\\/").replace(/:(\w*)/g,
"(\\w*)"))}},remove:function(a){delete this.routes[a]}}})});Build("build.ui.Application",["build.ui.Panel"],function(a,$super){a({$extends:"build.ui.Panel",$constructor:function(a){$super(this)(a)}})});Build("build.ui.form.Button",["build.ui.form.FormElement"],function(a,$super){a({$extends:"build.ui.form.FormElement",$constructor:function(a){$super(this)(a||"button")},$prototype:{build:function(){this.element.innerHTML="Button"}}})});Build("build.ui.form.Form",["build.ui.Panel"],function(a,$super){a({$extends:"build.ui.Panel",$constructor:function(){$super(this)("form")}})});Build("build.ui.form.FormElement",["build.ui.Widget"],function(a,$super){a({$extends:"build.ui.Widget",$constructor:function(a){$super(this)(a)},$prototype:{}})});Build("build.ui.form.Submit",["build.ui.form.Button"],function(a,$super){a({$extends:"build.ui.form.Button",$constructor:function(a){$super(this)(a||"submit")}})});Build("build.ui.Module",[],function(a,$super){a({$constructor:function(){}})});Build("build.ui.Panel",["build.ui.Widget"],function(a,$super){a({$extends:"build.ui.Widget",$constructor:function(){$super(this)();this.children=[]},$prototype:{addChild:function(a){this.children.push(a);this.appendChild(a)},removeChild:function(a){this.children.splice(array.indexOf(a),1);this.removeChild(a)}}})});Build("build.ui.Widget",["build.ui.Module"],function(a,$super){var b={};a({$extends:"build.ui.Module",$constructor:function(a){$super(this)();this.type=a||"div";this.createElement()},$prototype:{createElement:function(){this.element=document.createElement(this.type);this.element.id=this.uniqueId();this.element.classList.add(this.uniqueClass());this.element.controller=this;this.build()},build:function(){},uniqueId:function(){var a=this.constructor.$name;b[a]=b[a]?b[a]+1:0;return Build.nameToCss(a+
"-"+b[a])},uniqueClass:function(){return Build.nameToCss(this.constructor.$name)},appendChild:function(a){this.element.appendChild(a.element)},removeChild:function(a){this.element.removeChild(a.element)}}})});
